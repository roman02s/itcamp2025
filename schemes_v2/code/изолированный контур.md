@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml
LAYOUT_WITH_LEGEND()
title НПЗ — Контекст: изоляция и локальный контур

Person(emp, "Оператор/Сотрудник", "Работа с ERP/почтой")
Person(admin, "Администратор", "Мониторинг/реакция")

System(otdmz, "Industrial DMZ (OT)", "SCADA/DCS/IIoT")
System_Boundary(local, "Локальная ИТ-система НПЗ (изолирована)") {
  System(npz_apps, "Прикладные сервисы НПЗ", "1С/CMMS/почта/API")
  System(data_core, "Локальная платформа данных", "Kafka/BI/хранилища")
  System(sec_ops, "Безопасность и мониторинг", "SIEM/NMS")
}
System_Ext(extdc, "Внешний ЦОД / Корп. сеть", "DR/корп. сервисы (временно недоступны)")

Rel(emp, npz_apps, "Операционная работа")
Rel(admin, sec_ops, "Мониторинг/инциденты")
Rel(otdmz, data_core, "Телеметрия/логи (локально)")
Rel(npz_apps, data_core, "Операционные события/данные")
Rel(data_core, sec_ops, "Тех. метрики/аудит")
Rel_D(npz_apps, extdc, "Связь разорвана", "—")
@enduml
